/* Jersey Wasteland 2999 — Game Styles */
:root{
  --g:#00ff41;--gd:#007a1f;--gg:rgba(0,255,65,0.15);
  --a:#ffb000;--ad:#7a5500;
  --wg:#c0c0c0;--wgd:#808080;--wgdd:#404040;
  --wb:#000080;--ww:#ffffff;--wk:#000000;
  --blood:#cc0000;--bloodd:#660000;
  --bg:#080808;--scan:rgba(0,255,65,0.025);
}
*{margin:0;padding:0;box-sizing:border-box;}
body{background:var(--bg);color:var(--g);font-family:'Share Tech Mono','Courier New',monospace;min-height:100vh;overflow-x:hidden;}
body::before{content:'';position:fixed;inset:0;background:repeating-linear-gradient(0deg,transparent,transparent 2px,var(--scan) 2px,var(--scan) 4px);pointer-events:none;z-index:9999;}
body::after{content:'';position:fixed;inset:0;background:radial-gradient(ellipse at center,transparent 55%,rgba(0,0,0,0.75) 100%);pointer-events:none;z-index:9998;}
#bg-ascii{position:fixed;top:0;left:0;width:100%;height:100%;font-size:.55rem;color:rgba(0,255,65,0.04);line-height:1.15;white-space:pre;overflow:hidden;pointer-events:none;z-index:0;user-select:none;}
#app{position:relative;z-index:10;max-width:740px;margin:0 auto;padding:10px 10px 120px;min-height:100vh;background:var(--bg);}
.wp{background:var(--wg);border-top:2px solid var(--ww);border-left:2px solid var(--ww);border-right:2px solid var(--wgd);border-bottom:2px solid var(--wgd);margin-bottom:10px;box-shadow:2px 2px 0 rgba(0,0,0,.6);}
.wtb{background:linear-gradient(to right,var(--wb),#1a6fb5);padding:3px 5px;display:flex;align-items:center;justify-content:space-between;user-select:none;}
.wtt{font-size:.68rem;color:var(--ww);letter-spacing:.5px;display:flex;align-items:center;gap:5px;}
.wbs{display:flex;gap:2px;}
.wbtn{width:16px;height:14px;background:var(--wg);border-top:1px solid var(--ww);border-left:1px solid var(--ww);border-right:1px solid var(--wgd);border-bottom:1px solid var(--wgd);font-size:.6rem;display:flex;align-items:center;justify-content:center;color:var(--wk);cursor:pointer;}
.wi{background:var(--bg);border:2px inset var(--wgd);margin:4px;padding:14px;}
.game-title{font-family:'VT323',monospace;font-size:clamp(2rem,9vw,3.8rem);color:var(--g);text-shadow:0 0 16px var(--g);line-height:1;letter-spacing:3px;animation:flicker 8s infinite;}
@keyframes flicker{0%,94%,100%{opacity:1}95%{opacity:.75}97.5%{opacity:.55}98%{opacity:1}}
.game-subtitle{font-size:.62rem;color:var(--a);margin-top:6px;letter-spacing:3px;}
.boot-line{font-size:.58rem;color:var(--gd);margin-top:8px;letter-spacing:1px;}
.tab-bar{display:flex;gap:2px;margin-bottom:-2px;position:relative;z-index:2;padding:0 4px;flex-wrap:wrap;background:var(--bg);}
#story-view,#map-view,#factions-view,#skills-view,#tasks-view,#chars-view,#dialogue-screen{position:relative;z-index:1;}
.tab{background:#a8a8a8;border-top:2px solid var(--ww);border-left:2px solid var(--ww);border-right:2px solid var(--wgd);border-bottom:2px solid var(--wgd);padding:4px 10px;font-family:'Share Tech Mono',monospace;font-size:.58rem;color:var(--wgdd);cursor:pointer;letter-spacing:1px;text-transform:uppercase;}
.tab.active{background:var(--wg);border-bottom:2px solid var(--wg);color:var(--wk);font-weight:bold;padding-bottom:6px;margin-bottom:-2px;}
.dos-label{font-size:.6rem;color:var(--a);letter-spacing:2px;margin-bottom:5px;}
.dos-label::before{content:'C:\\> ';color:var(--gd);}
.dos-input{width:100%;background:#000;border:1px solid var(--gd);padding:8px 10px;color:var(--g);font-family:'Share Tech Mono',monospace;font-size:.82rem;outline:none;caret-color:var(--g);}
.dos-input:focus{border-color:var(--g);box-shadow:0 0 8px var(--gg);}
.dos-input::placeholder{color:var(--gd);}
.dos-hint{font-size:.58rem;color:var(--gd);margin-top:4px;}
.dos-hint a{color:var(--ad);}
.fw{margin-bottom:16px;}
.class-grid{display:grid;grid-template-columns:1fr 1fr;gap:7px;}
.arch-grid{display:grid;grid-template-columns:1fr 1fr;gap:7px;margin-bottom:4px;}
.arch-card{background:#000;border:1px solid var(--gd);padding:10px 12px;cursor:pointer;transition:border-color .12s,box-shadow .12s;position:relative;}
.arch-card:hover{border-color:var(--g);box-shadow:0 0 8px var(--gg);}
.arch-card.selected{border-color:var(--a);box-shadow:0 0 10px rgba(255,176,0,.2);}
.arch-icon{font-size:1.5rem;display:block;margin-bottom:4px;}
.arch-name{font-size:.68rem;color:var(--a);text-transform:uppercase;letter-spacing:1px;margin-bottom:2px;}
.arch-stat{font-size:.52rem;color:var(--gd);letter-spacing:1px;}
.subclass-panel{display:none;margin-top:8px;border:1px solid var(--gd);background:#000;padding:10px;}
.subclass-panel.visible{display:block;}
.sub-header{font-size:.52rem;color:var(--gd);letter-spacing:2px;margin-bottom:8px;border-bottom:1px solid rgba(0,255,65,.15);padding-bottom:5px;}
.sub-grid{display:grid;gap:6px;}
.class-card{background:#000;border:1px solid var(--gd);padding:11px 12px;cursor:pointer;transition:border-color .1s,box-shadow .1s;position:relative;}
.class-card:hover{border-color:var(--g);box-shadow:0 0 8px var(--gg);}
.class-card.selected{border-color:var(--a);box-shadow:0 0 10px rgba(255,176,0,.25);}
.cc-top{display:flex;align-items:center;gap:8px;margin-bottom:6px;}
.ci{font-size:1.3rem;flex-shrink:0;}
.cc-names{}
.cn{font-size:.68rem;color:var(--a);text-transform:uppercase;letter-spacing:1px;display:block;}
.cn-arch{font-size:.48rem;color:var(--gd);letter-spacing:1px;display:block;margin-top:1px;}
.cd{font-size:.6rem;color:var(--gd);line-height:1.5;margin-bottom:6px;}
.cc-bonuses{display:flex;gap:6px;flex-wrap:wrap;}
.cc-bonus{font-size:.5rem;color:var(--g);background:rgba(0,255,65,.07);border:1px solid rgba(0,255,65,.2);padding:1px 6px;letter-spacing:.5px;}
.cc-perk{font-size:.52rem;color:var(--a);margin-top:5px;border-top:1px solid rgba(255,176,0,.15);padding-top:5px;letter-spacing:.3px;}
.cc-perk::before{content:'CLASS PERK: ';color:var(--gd);}
.stat-pts{font-size:.6rem;color:var(--gd);text-align:right;margin-bottom:8px;}
.stat-pts span{color:var(--a);}
.stats-grid-s{display:grid;gap:9px;}
.stat-row{display:grid;grid-template-columns:118px 1fr 22px;align-items:center;gap:8px;}
.stat-nm{font-size:.62rem;color:var(--g);text-transform:uppercase;letter-spacing:1px;}
.sbt{height:10px;background:#000;border:1px solid var(--gd);cursor:pointer;overflow:hidden;}
.sbf{height:100%;background:repeating-linear-gradient(90deg,var(--g) 0,var(--g) 7px,transparent 7px,transparent 9px);transition:width .15s;pointer-events:none;}
.sv{font-size:.72rem;color:var(--a);text-align:right;}
.begin-btn{width:100%;background:var(--wg);border-top:2px solid var(--ww);border-left:2px solid var(--ww);border-right:2px solid var(--wgd);border-bottom:2px solid var(--wgd);padding:9px 14px;color:var(--wk);font-family:'Share Tech Mono',monospace;font-size:.78rem;letter-spacing:2px;cursor:pointer;margin-top:4px;}
.begin-btn:hover{background:#d4d0c8;}
.begin-btn:disabled{opacity:.45;cursor:not-allowed;}
#game-screen{display:none;background:var(--bg);min-height:100vh;}
.char-panel{background:#000;border:1px solid var(--gd);padding:9px 12px;margin-bottom:10px;}
.char-hdr{font-size:.52rem;color:var(--gd);letter-spacing:1px;border-bottom:1px solid var(--gd);padding-bottom:4px;margin-bottom:7px;line-height:1.7;}
.char-hdr span{color:var(--a);}
.stats-row{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:7px;}
.sc{min-width:52px;}
.scl{font-size:.48rem;color:var(--gd);letter-spacing:1px;text-transform:uppercase;display:block;}
.scv{font-family:'VT323',monospace;font-size:1.5rem;color:var(--g);display:block;line-height:1;text-shadow:0 0 8px var(--g);}
.res-row{display:flex;gap:10px;flex-wrap:wrap;border-top:1px solid var(--gd);padding-top:6px;margin-top:4px;}
.res-chip{font-size:.58rem;color:var(--gd);}
.res-chip span{color:var(--a);}
.ap-row{display:flex;gap:8px;flex-wrap:wrap;border-top:1px solid var(--gd);padding-top:5px;margin-top:4px;}
.ap-chip{font-size:.55rem;color:var(--gd);cursor:pointer;padding:2px 5px;border:1px solid transparent;}
.ap-chip:hover{border-color:var(--gd);}
.apl{display:block;color:var(--a);font-size:.44rem;letter-spacing:1px;}
.apv{font-family:'VT323',monospace;font-size:1.1rem;color:var(--g);line-height:1;}
.hp-label{display:flex;justify-content:space-between;font-size:.52rem;color:var(--gd);margin-bottom:3px;margin-top:6px;}
.hp-track{height:11px;background:#000;border:1px solid var(--gd);overflow:hidden;}
.hp-fill{height:100%;background:repeating-linear-gradient(90deg,var(--blood) 0,var(--blood) 5px,var(--bloodd) 5px,var(--bloodd) 7px);transition:width .5s ease;}
#story-text{font-family:'Share Tech Mono',monospace;font-size:.76rem;line-height:1.85;color:var(--g);white-space:pre-wrap;}
.choices-container{display:grid;gap:4px;margin-bottom:8px;}
.choice-btn{background:#000;border:1px solid var(--gd);padding:9px 12px;color:var(--g);font-family:'Share Tech Mono',monospace;font-size:.72rem;cursor:pointer;text-align:left;line-height:1.6;transition:border-color .1s,color .1s;}
.choice-btn:hover{border-color:var(--a);color:var(--a);}
.choice-btn:disabled{opacity:.3;cursor:not-allowed;}
.choice-lbl{color:var(--a);font-size:.55rem;letter-spacing:2px;display:block;margin-bottom:2px;}
.open-wrap{display:flex;gap:6px;margin-bottom:10px;}
.open-input{flex:1;background:#000;border:1px solid var(--gd);padding:8px 10px;color:var(--g);font-family:'Share Tech Mono',monospace;font-size:.72rem;outline:none;caret-color:var(--g);}
.open-input:focus{border-color:var(--g);}
.open-input::placeholder{color:var(--gd);}
.open-submit{background:var(--wg);border-top:1px solid var(--ww);border-left:1px solid var(--ww);border-right:1px solid var(--wgd);border-bottom:1px solid var(--wgd);padding:8px 12px;font-family:'Share Tech Mono',monospace;font-size:.62rem;color:var(--wk);cursor:pointer;white-space:nowrap;}
.open-submit:hover{background:#d4d0c8;}
.dos-loading{font-size:.6rem;color:var(--gd);letter-spacing:2px;padding:6px 0;display:none;}
.dos-loading::after{content:'';animation:ldots 1.2s steps(4,end) infinite;}
@keyframes ldots{0%{content:''}25%{content:'.'}50%{content:'..'}75%{content:'...'}}
.err{background:#000;border:1px solid var(--blood);padding:8px 12px;color:var(--blood);font-size:.67rem;margin-bottom:8px;display:none;}
.err::before{content:'ERROR: ';}
.turn-info{display:flex;justify-content:space-between;align-items:center;font-size:.58rem;color:var(--gd);padding:7px 0;border-top:1px solid rgba(0,255,65,.2);}
.restart-btn{background:var(--wg);border-top:1px solid var(--ww);border-left:1px solid var(--ww);border-right:1px solid var(--wgd);border-bottom:1px solid var(--wgd);padding:3px 10px;font-family:'Share Tech Mono',monospace;font-size:.58rem;color:var(--wk);cursor:pointer;}
/* MAP */
.map-wrap{position:relative;width:100%;background:#000;overflow:hidden;}
.map-wrap svg{width:100%;height:auto;display:block;}
.road{stroke:var(--gd);stroke-width:1.5;fill:none;stroke-dasharray:6,4;opacity:.5;}
.road.patrolled{stroke:var(--blood);opacity:.7;animation:rp 2s ease-in-out infinite;}
@keyframes rp{0%,100%{opacity:.7}50%{opacity:.3}}
.loc-node{cursor:pointer;}
.loc-node circle.outer{fill:transparent;stroke-width:1.5;}
.loc-node circle.inner{stroke:none;}
.ctrl-player .outer{stroke:var(--g);}
.ctrl-player .inner{fill:var(--g);}
.ctrl-hostile .outer{stroke:var(--blood);}
.ctrl-hostile .inner{fill:var(--blood);}
.ctrl-neutral .outer{stroke:var(--a);}
.ctrl-neutral .inner{fill:var(--a);}
.ctrl-contested .outer{stroke:#ff8800;animation:cp 1s ease-in-out infinite;}
.ctrl-contested .inner{fill:#ff8800;}
@keyframes cp{0%,100%{opacity:1}50%{opacity:.4}}
.current-loc .outer{stroke-width:3;filter:drop-shadow(0 0 4px var(--g));}
.patrol-dot{fill:var(--blood);}
.map-res-bar{display:flex;gap:16px;padding:7px 12px;background:#000;border-bottom:1px solid var(--gd);font-size:.6rem;color:var(--gd);flex-wrap:wrap;}
.map-res-bar span{color:var(--a);}
.map-legend{position:absolute;bottom:8px;left:8px;background:rgba(0,0,0,.85);border:1px solid var(--gd);padding:5px 8px;font-size:6px;color:var(--gd);line-height:1.8;}
.map-legend div{display:flex;align-items:center;gap:5px;}
.leg-dot{width:7px;height:7px;border-radius:50%;flex-shrink:0;}
.loc-popup{position:absolute;pointer-events:none;z-index:50;}
.loc-popup-inner{background:var(--wg);border-top:2px solid var(--ww);border-left:2px solid var(--ww);border-right:2px solid var(--wgd);border-bottom:2px solid var(--wgd);min-width:185px;box-shadow:3px 3px 0 rgba(0,0,0,.6);pointer-events:all;}
.lpop-tb{background:linear-gradient(to right,var(--wb),#1a6fb5);padding:2px 6px;font-size:.6rem;color:var(--ww);letter-spacing:1px;}
.lpop-body{padding:8px 10px;background:var(--bg);border:2px inset var(--wgd);margin:3px;}
.lpop-name{font-size:.75rem;color:var(--a);margin-bottom:2px;letter-spacing:1px;}
.lpop-leader{font-size:.58rem;color:var(--g);margin-bottom:4px;font-style:italic;}
.lpop-ctrl{font-size:.58rem;margin-bottom:5px;letter-spacing:1px;}
.lpop-ctrl.player{color:var(--g);}
.lpop-ctrl.hostile{color:var(--blood);}
.lpop-ctrl.neutral{color:var(--a);}
.lpop-feat{font-size:.56rem;color:var(--gd);line-height:1.7;margin-bottom:6px;}
.lpop-cost{font-size:.56rem;color:var(--gd);border-top:1px solid var(--gd);padding-top:5px;margin-bottom:6px;}
.lpop-cost span{color:var(--a);}
.lpop-btns{display:flex;gap:4px;flex-wrap:wrap;}
.lpop-btn{flex:1;min-width:60px;background:var(--wg);border-top:1px solid var(--ww);border-left:1px solid var(--ww);border-right:1px solid var(--wgd);border-bottom:1px solid var(--wgd);padding:4px 5px;font-family:'Share Tech Mono',monospace;font-size:.52rem;color:var(--wk);cursor:pointer;text-align:center;pointer-events:all;}
.lpop-btn:hover{background:#d4d0c8;}
.lpop-btn:disabled{opacity:.4;cursor:not-allowed;}
/* FACTIONS */
.faction-list{display:grid;gap:8px;}
.faction-card{background:#000;border:1px solid var(--gd);padding:12px 14px;}
.fc-hdr{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px;}
.fc-name{font-size:.75rem;color:var(--a);letter-spacing:1px;}
.fc-badge{font-size:.52rem;padding:2px 7px;border:1px solid;letter-spacing:1px;text-transform:uppercase;}
.fc-leader{font-size:.6rem;color:var(--g);margin-bottom:4px;}
.fc-desc{font-size:.58rem;color:var(--gd);line-height:1.5;margin-bottom:8px;}
.fc-rel-wrap{margin-bottom:8px;}
.fc-rel-lbl{display:flex;justify-content:space-between;font-size:.5rem;color:var(--gd);margin-bottom:3px;}
.fc-rel-track{height:6px;background:#111;border:1px solid var(--gd);overflow:hidden;}
.fc-rel-fill{height:100%;transition:width .4s ease;}
.fc-talk-btn{width:100%;background:var(--wg);border-top:1px solid var(--ww);border-left:1px solid var(--ww);border-right:1px solid var(--wgd);border-bottom:1px solid var(--wgd);padding:5px;font-family:'Share Tech Mono',monospace;font-size:.6rem;color:var(--wk);cursor:pointer;text-align:center;}
.fc-talk-btn:hover{background:#d4d0c8;}
/* DIALOGUE */
#dialogue-screen{display:none;}
.dlg-wrap{background:#000;border:1px solid var(--gd);padding:14px;}
.dlg-portrait{display:flex;align-items:flex-start;gap:12px;margin-bottom:12px;border-bottom:1px solid var(--gd);padding-bottom:12px;}
.port-ascii{font-family:'Share Tech Mono',monospace;font-size:.5rem;color:var(--g);line-height:1.2;white-space:pre;flex-shrink:0;opacity:.75;}
.port-name{font-size:.8rem;color:var(--a);letter-spacing:1px;margin-bottom:3px;}
.port-title{font-size:.58rem;color:var(--gd);margin-bottom:6px;}
.port-rel{font-size:.56rem;padding:2px 8px;border:1px solid;display:inline-block;}
.dlg-text{font-size:.72rem;color:var(--g);line-height:1.8;white-space:pre-wrap;margin-bottom:12px;min-height:40px;}
.dlg-choices{display:grid;gap:5px;margin-bottom:8px;}
.dlg-choice{background:#000;border:1px solid var(--gd);padding:9px 12px;color:var(--g);font-family:'Share Tech Mono',monospace;font-size:.68rem;cursor:pointer;text-align:left;line-height:1.5;}
.dlg-choice:hover{border-color:var(--a);color:var(--a);}
.dlg-choice:disabled{opacity:.3;cursor:not-allowed;}
.dlg-choice-lbl{color:var(--a);font-size:.52rem;letter-spacing:2px;display:block;margin-bottom:2px;}
.dlg-open-wrap{display:flex;gap:6px;margin-bottom:8px;}
.dlg-back{width:100%;background:var(--wg);border-top:1px solid var(--ww);border-left:1px solid var(--ww);border-right:1px solid var(--wgd);border-bottom:1px solid var(--wgd);padding:6px;font-family:'Share Tech Mono',monospace;font-size:.6rem;color:var(--wk);cursor:pointer;text-align:center;}
.dlg-back:hover{background:#d4d0c8;}
/* SKILLS */
#skills-view{display:none;}
.skills-info{font-size:.6rem;color:var(--gd);line-height:1.8;margin-bottom:12px;}
.skills-info span{color:var(--a);}
.skill-grid{display:grid;gap:10px;}
.skill-card{background:#000;border:1px solid var(--gd);padding:12px 14px;}
.sk-hdr{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px;}
.sk-name{font-size:.72rem;color:var(--a);letter-spacing:1px;}
.sk-ap{font-size:.62rem;color:var(--g);background:rgba(0,255,65,.05);border:1px solid var(--gd);padding:2px 8px;}
.sk-ap span{color:var(--a);}
.sk-xp-wrap{margin-bottom:8px;}
.sk-xp-lbl{display:flex;justify-content:space-between;font-size:.5rem;color:var(--gd);margin-bottom:3px;}
.sk-xp-track{height:8px;background:#000;border:1px solid var(--gd);overflow:hidden;}
.sk-xp-fill{height:100%;background:repeating-linear-gradient(90deg,var(--g) 0,var(--g) 6px,transparent 6px,transparent 8px);transition:width .3s;}
.sk-desc{font-size:.58rem;color:var(--gd);line-height:1.6;margin-bottom:8px;}
.sk-perks{display:grid;gap:4px;}
.sk-perk{display:flex;align-items:flex-start;gap:8px;padding:5px 8px;border:1px solid;font-size:.58rem;line-height:1.5;}
.sk-perk.unlocked{border-color:var(--g);color:var(--g);}
.sk-perk.locked{border-color:var(--wgdd);color:var(--wgdd);}
.sk-perk.next{border-color:var(--a);color:var(--a);border-style:dashed;}
.sk-perk-lvl{flex-shrink:0;font-size:.52rem;letter-spacing:1px;margin-top:1px;}
.spend-btn{margin-top:6px;width:100%;background:var(--wg);border-top:1px solid var(--ww);border-left:1px solid var(--ww);border-right:1px solid var(--wgd);border-bottom:1px solid var(--wgd);padding:4px;font-family:'Share Tech Mono',monospace;font-size:.56rem;color:var(--wk);cursor:pointer;}
.spend-btn:hover{background:#d4d0c8;}
.spend-btn:disabled{opacity:.4;cursor:not-allowed;}
.garrison-row{display:flex;gap:8px;align-items:center;padding:6px 0;border-top:1px solid rgba(0,255,65,.12);margin-top:8px;}
.garrison-lbl{font-size:.56rem;color:var(--gd);letter-spacing:1px;flex:1;}
.garrison-count{font-size:.68rem;color:var(--a);font-family:'VT323',monospace;min-width:30px;text-align:center;}
.garrison-btn{background:var(--wg);border-top:1px solid var(--ww);border-left:1px solid var(--ww);border-right:1px solid var(--wgd);border-bottom:1px solid var(--wgd);padding:2px 8px;font-family:'Share Tech Mono',monospace;font-size:.55rem;color:var(--wk);cursor:pointer;}
.garrison-btn:hover{background:#d4d0c8;}
.garrison-btn:disabled{opacity:.4;cursor:not-allowed;}
.claim-btn{width:100%;background:#000;border:1px solid var(--g);padding:8px;font-family:'Share Tech Mono',monospace;font-size:.65rem;color:var(--g);cursor:pointer;letter-spacing:2px;margin-top:8px;text-align:center;}
.claim-btn:hover{background:rgba(0,255,65,.1);}
.raid-alert{background:#000;border:1px solid var(--blood);padding:8px 12px;color:var(--blood);font-size:.65rem;margin-bottom:8px;animation:raidPulse 1s ease-in-out infinite;}
@keyframes raidPulse{0%,100%{border-color:var(--blood)}50%{border-color:var(--bloodd)}}
.desktop-tagline{font-size:.6rem;color:var(--wgdd);font-style:italic;margin-bottom:14px;text-align:center;letter-spacing:.5px;}
.desktop-save-btn{flex:1;min-width:120px;background:var(--wb);color:var(--ww);border-top:2px solid #5a9fd4;border-left:2px solid #5a9fd4;border-right:2px solid #00008b;border-bottom:2px solid #00008b;padding:7px 10px;font-family:'Share Tech Mono',monospace;font-size:.6rem;cursor:pointer;letter-spacing:1px;}
.desktop-save-btn:hover{background:#1a6fb5;}
.desktop-save-btn.secondary{background:var(--wg);color:var(--wgdd);border-color:var(--wgd);}
.desktop-save-btn.secondary:hover{background:#d4d0c8;}
.space-card{border:1px solid #7b2fbe!important;background:var(--wg);}
.space-banner{background:linear-gradient(135deg,#0d001a 0%,#3d0070 40%,#00d4ff 70%,#ff6ec7 100%)!important;height:8px;}
.space-desc{color:#bb44ff!important;}
.sc-status.coming-soon{background:#3d0070;color:#ffe66d;padding:2px 6px;font-size:.5rem;letter-spacing:1px;border:1px solid #7b2fbe;}
.space-select-btn{background:#1a0033!important;color:#7b2fbe!important;border:1px solid #7b2fbe!important;cursor:not-allowed!important;opacity:.6;}
.notif{position:fixed;bottom:18px;right:14px;background:var(--wg);border-top:2px solid var(--ww);border-left:2px solid var(--ww);border-right:2px solid var(--wgd);border-bottom:2px solid var(--wgd);padding:7px 14px;font-family:'Share Tech Mono',monospace;font-size:.62rem;color:var(--wk);z-index:1000;max-width:260px;box-shadow:2px 2px 0 rgba(0,0,0,.5);animation:nIn .2s ease,nOut .3s ease 2.5s forwards;}
@keyframes nIn{from{transform:translateY(8px);opacity:0}to{transform:translateY(0);opacity:1}}
@keyframes nOut{to{opacity:0}}
.cursor{display:inline-block;width:8px;height:1em;background:var(--g);vertical-align:text-bottom;animation:blink .7s step-end infinite;margin-left:1px;}
/* DESKTOP HOME */
#title-block{display:none;}#title-block .wi{background:var(--wg);}
.desktop-home{display:flex;flex-direction:column;align-items:center;padding:32px 20px 28px;background:var(--wg);gap:0;}
.desktop-logo{display:flex;align-items:center;gap:16px;margin-bottom:18px;}
.desktop-icon{font-size:3rem;filter:drop-shadow(2px 2px 0 rgba(0,0,0,.25));}
.desktop-titles{text-align:left;}
.desktop-game-title{font-family:'VT323',monospace;font-size:clamp(2.4rem,10vw,4.2rem);color:var(--wk);line-height:1;letter-spacing:2px;}
.desktop-game-sub{font-size:.62rem;color:var(--wgdd);letter-spacing:3px;margin-top:4px;text-transform:uppercase;}
.desktop-divider{width:100%;height:2px;background:linear-gradient(to right,var(--wgd),var(--ww),var(--wgd));margin:0 0 18px;}
.desktop-meta{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;}
.desktop-meta-chip{background:var(--wg);border-top:2px solid var(--ww);border-left:2px solid var(--ww);border-right:2px solid var(--wgd);border-bottom:2px solid var(--wgd);padding:5px 12px;font-size:.55rem;color:var(--wgdd);letter-spacing:1px;text-align:center;}
.desktop-meta-chip span{display:block;font-size:.72rem;color:var(--wk);font-family:'VT323',monospace;margin-top:2px;}
/* LOAD OVERLAY */
.load-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.75);z-index:9000;align-items:center;justify-content:center;}
.load-overlay.active{display:flex;}
.load-box{background:var(--wg);border-top:2px solid var(--ww);border-left:2px solid var(--ww);border-right:2px solid var(--wgd);border-bottom:2px solid var(--wgd);min-width:300px;max-width:380px;box-shadow:4px 4px 0 rgba(0,0,0,.5);}
.load-tb{background:linear-gradient(to right,var(--wb),#1a6fb5);padding:3px 7px;font-size:.6rem;color:var(--ww);letter-spacing:1px;display:flex;justify-content:space-between;align-items:center;}
.load-body{padding:14px 16px;background:var(--bg);border:2px inset var(--wgd);margin:4px;display:flex;gap:14px;align-items:flex-start;}
.load-spinner{width:48px;height:48px;flex-shrink:0;position:relative;}
.load-spinner svg{width:100%;height:100%;}
.pip-ring{fill:none;stroke:var(--g);stroke-width:3;stroke-dasharray:110;transform-origin:center;animation:pipR 1.4s linear infinite;}
.pip-ring2{fill:none;stroke:var(--gd);stroke-width:1.5;stroke-dasharray:55;transform-origin:center;animation:pipR 2s linear infinite reverse;}
@keyframes pipR{to{stroke-dashoffset:-110;}}
.pip-label{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-family:'Share Tech Mono',monospace;font-size:.7rem;color:var(--g);}
.load-info{flex:1;}
.load-status{font-size:.7rem;color:var(--g);letter-spacing:1px;margin-bottom:5px;}
.load-sub{font-size:.55rem;color:var(--gd);font-style:italic;margin-bottom:10px;min-height:1em;}
.load-bar-track{height:8px;background:#000;border:1px solid var(--gd);}
.load-bar-fill{height:100%;background:repeating-linear-gradient(90deg,var(--g) 0,var(--g) 5px,transparent 5px,transparent 7px);width:0%;transition:width .5s ease;}
.load-dots::after{content:'';animation:ld 1s steps(4,end) infinite;}
@keyframes ld{0%{content:''}25%{content:'.'}50%{content:'..'}75%{content:'...'}}
#story-text em{color:var(--gd);font-style:italic;}
.npc-quote{display:block;margin:8px 0;padding:5px 10px;border-left:2px solid var(--gd);color:var(--g);font-style:italic;}
.npc-name{color:var(--a);font-weight:bold;font-style:normal;display:inline-block;margin-right:4px;}
/* Skill allocation UI */
.skill-alloc-grid{display:grid;gap:8px;}
.skill-alloc-row{display:grid;grid-template-columns:110px auto 1fr;align-items:center;gap:8px;}
.skill-alloc-nm{font-size:.62rem;color:var(--g);text-transform:uppercase;letter-spacing:1px;}
.sk-alloc-btns{display:flex;align-items:center;gap:6px;}
.sk-alloc-btn{background:var(--wg);border-top:1px solid var(--ww);border-left:1px solid var(--ww);border-right:1px solid var(--wgd);border-bottom:1px solid var(--wgd);width:22px;height:22px;font-family:'Share Tech Mono',monospace;font-size:.82rem;color:var(--wk);cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0;}
.sk-alloc-btn:hover{background:#d4d0c8;}
.sk-alloc-btn:disabled{opacity:.4;cursor:not-allowed;}
.sk-alloc-val{font-family:'VT323',monospace;font-size:1.4rem;color:var(--a);min-width:22px;text-align:center;}
.sk-alloc-hint{font-size:.48rem;color:var(--gd);letter-spacing:.5px;line-height:1.4;}
/* Campaign card consistency */
.sc-title-red{color:#cc4422!important;}
.sc-desc-dim{color:#cc4422;}
.dlg-text em{color:var(--gd);font-style:italic;}
@keyframes blink{0%,100%{opacity:1}50%{opacity:0}}
@keyframes sFlash{0%{color:#fff}100%{color:var(--g)}}
.stat-flash{animation:sFlash .5s ease;}
.cont-dlg{background:var(--wg);border-top:2px solid var(--ww);border-left:2px solid var(--ww);border-right:2px solid var(--wgd);border-bottom:2px solid var(--wgd);margin-bottom:10px;box-shadow:2px 2px 0 rgba(0,0,0,.5);}
.dlg-body-save{padding:12px 14px;display:flex;gap:12px;align-items:flex-start;}
.dlg-icon{font-size:1.8rem;flex-shrink:0;}
.dlg-content{flex:1;}
.dlg-title{font-family:'Share Tech Mono',monospace;font-size:.72rem;color:var(--wk);font-weight:bold;margin-bottom:5px;}
.dlg-sub{font-family:'Share Tech Mono',monospace;font-size:.6rem;color:var(--wgdd);line-height:1.6;}
.dlg-btns{display:flex;gap:8px;margin-top:10px;justify-content:flex-end;}
.w95btn{background:var(--wg);border-top:2px solid var(--ww);border-left:2px solid var(--ww);border-right:2px solid var(--wgd);border-bottom:2px solid var(--wgd);padding:3px 14px;font-family:'Share Tech Mono',monospace;font-size:.62rem;color:var(--wk);cursor:pointer;min-width:72px;text-align:center;}
::-webkit-scrollbar{width:14px;}
::-webkit-scrollbar-track{background:var(--wg);}
::-webkit-scrollbar-thumb{background:var(--wg);border-top:1px solid var(--ww);border-left:1px solid var(--ww);border-right:1px solid var(--wgd);border-bottom:1px solid var(--wgd);}
@supports (padding-bottom:env(safe-area-inset-bottom)){#app{padding-bottom:calc(120px + env(safe-area-inset-bottom));}}
/* STORY SELECT SCREEN */
#story-select{}
#story-select .wi{background:var(--wg);}
.story-grid{display:grid;gap:10px;}
.story-card{background:#0a0a0a;border:2px solid var(--gd);padding:0;cursor:pointer;transition:border-color .15s,box-shadow .15s;overflow:hidden;position:relative;box-shadow:0 0 8px rgba(0,255,65,0.15);}
.story-card:hover{border-color:var(--g);box-shadow:0 0 16px var(--gg);}
.story-card.locked{cursor:not-allowed;opacity:.55;}
.story-card.selected-story{border-color:var(--a);box-shadow:0 0 14px rgba(255,176,0,.2);}
.sc-banner{height:7px;width:100%;}
.sc-inner{padding:14px 16px;}
.sc-top{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:8px;gap:10px;}
.sc-icon{font-size:2rem;line-height:1;flex-shrink:0;}
.sc-badges{display:flex;flex-direction:column;align-items:flex-end;gap:4px;}
.sc-status{font-size:.52rem;letter-spacing:2px;padding:2px 8px;border:1px solid;text-transform:uppercase;}
.sc-status.live{color:var(--g);border-color:var(--g);background:rgba(0,255,65,.07);}
.sc-status.locked{color:var(--wgdd);border-color:var(--wgdd);}
.sc-status.classified{color:var(--a);border-color:var(--a);background:rgba(255,176,0,.05);}
.sc-num{font-size:.46rem;color:var(--gd);letter-spacing:2px;}
.sc-title{font-family:'VT323',monospace;font-size:1.9rem;color:var(--g);line-height:1;letter-spacing:2px;margin-bottom:4px;}
.story-card.locked
.sc-tagline{font-size:.62rem;color:var(--a);letter-spacing:1px;margin-bottom:10px;}
.story-card.locked
.sc-desc{font-size:.62rem;color:var(--gd);line-height:1.7;margin-bottom:12px;}
.sc-meta{display:flex;gap:12px;flex-wrap:wrap;border-top:1px solid rgba(0,255,65,.12);padding-top:10px;}
.sc-meta-item{font-size:.55rem;color:var(--gd);letter-spacing:1px;}
.sc-meta-item span{color:var(--a);}
.sc-select-btn{width:100%;background:var(--wg);border-top:2px solid var(--ww);border-left:2px solid var(--ww);border-right:2px solid var(--wgd);border-bottom:2px solid var(--wgd);padding:10px;font-family:'Share Tech Mono',monospace;font-size:.72rem;letter-spacing:2px;color:var(--wk);cursor:pointer;margin-top:12px;text-align:center;}
.sc-select-btn:hover{background:#d4d0c8;}
.sc-select-btn:active{border-top:2px solid var(--wgd);border-left:2px solid var(--wgd);border-right:2px solid var(--ww);border-bottom:2px solid var(--ww);}
.sc-locked-msg{width:100%;padding:10px;font-family:'Share Tech Mono',monospace;font-size:.62rem;letter-spacing:2px;color:var(--wgdd);text-align:center;border:1px dashed var(--wgdd);margin-top:12px;}
.sc-lock-overlay{position:absolute;top:0;right:0;background:rgba(0,0,0,.5);padding:5px 10px;font-size:.52rem;color:var(--wgdd);letter-spacing:2px;}
/* back button on setup */
#setup-screen{display:none;background:var(--bg);min-height:100vh;}
.back-to-stories{background:none;border:none;color:var(--gd);font-family:'Share Tech Mono',monospace;font-size:.58rem;letter-spacing:1px;cursor:pointer;padding:4px 0;margin-bottom:8px;display:flex;align-items:center;gap:5px;}
.back-to-stories:hover{color:var(--g);}
/* Selected story badge in setup */
.story-badge-strip{background:#000;border:1px solid var(--gd);padding:6px 12px;margin-bottom:12px;display:flex;align-items:center;justify-content:space-between;}
.story-badge-name{font-size:.62rem;color:var(--g);letter-spacing:1px;}
.story-badge-tag{font-size:.52rem;color:var(--gd);}

/* ── CAMPAIGN CARD EXTRAS ── */
.sc-title-purple{color:#bb44ff;}
.sc-select-btn-red{opacity:.55;border-color:#cc2222 !important;color:#cc2222 !important;cursor:not-allowed;}
.sc-select-btn-red:hover{background:var(--wg);}
.settings-chip{cursor:pointer;}
.settings-chip:hover{background:#d4d0c8;}

/* ── SETTINGS / TUTORIAL MODAL ── */
.settings-modal{position:fixed;inset:0;background:rgba(0,0,0,.75);z-index:8000;display:flex;align-items:center;justify-content:center;}
.settings-win{background:var(--wg);border-top:2px solid var(--ww);border-left:2px solid var(--ww);border-right:2px solid var(--wgd);border-bottom:2px solid var(--wgd);min-width:320px;max-width:500px;width:90%;box-shadow:4px 4px 0 rgba(0,0,0,.6);max-height:88vh;display:flex;flex-direction:column;}
.settings-tb{background:linear-gradient(to right,var(--wb),#1a6fb5);padding:3px 7px;font-size:.6rem;color:var(--ww);letter-spacing:1px;display:flex;justify-content:space-between;align-items:center;flex-shrink:0;}
.settings-close{background:var(--wg);border-top:1px solid var(--ww);border-left:1px solid var(--ww);border-right:1px solid var(--wgd);border-bottom:1px solid var(--wgd);color:var(--wk);font-size:.65rem;cursor:pointer;padding:1px 6px;font-family:'Share Tech Mono',monospace;line-height:1.4;}
.settings-close:active{border-top:1px solid var(--wgd);border-left:1px solid var(--wgd);border-right:1px solid var(--ww);border-bottom:1px solid var(--ww);}
.settings-tabs-row{display:flex;background:var(--wg);border-bottom:2px solid var(--wgd);flex-shrink:0;}
.stab-btn{padding:4px 14px;font-family:'Share Tech Mono',monospace;font-size:.58rem;letter-spacing:1px;background:var(--wg);border:none;border-right:1px solid var(--wgd);cursor:pointer;color:var(--wgdd);position:relative;top:2px;border-radius:0;}
.stab-btn.active{background:#fff;color:var(--wk);top:0;border-bottom:2px solid #fff;}
.settings-body{background:#fff;overflow-y:auto;flex:1;}
.stab-content{font-family:'Share Tech Mono',monospace;font-size:.62rem;line-height:1.9;color:var(--wk);padding:14px 16px;}
.stab-content h3{font-size:.65rem;letter-spacing:2px;margin:12px 0 4px;border-bottom:1px solid var(--wgd);padding-bottom:2px;font-weight:normal;}
.stab-content h3:first-child{margin-top:0;}

/* ── RESPONSIVE — MOBILE ── */
@media (max-width:680px){
  body{font-size:11px;}
  #app{padding:6px 6px 100px;}
  .wi{padding:10px 10px;}

  /* Campaign cards: single column */
  .story-grid{grid-template-columns:1fr;}

  /* Resource bar: wrap */
  .res-row{flex-wrap:wrap;gap:4px;}
  .res-chip{font-size:.55rem;padding:3px 7px;}

  /* Tabs: compress */
  .tab{font-size:.5rem;padding:6px 8px;letter-spacing:1px;}

  /* Story text */
  #story-text{font-size:.72rem;line-height:1.75;}

  /* Choice buttons: bigger tap target */
  .choice-btn{font-size:.65rem;padding:10px 12px;}

  /* Custom action input: stack vertically */
  .open-wrap{flex-direction:column;gap:6px;}
  .open-submit{width:100%;}

  /* Map: fill width */
  #campaign-map{width:100% !important;height:auto !important;}

  /* Setup origin faction grid: 2-col on mobile */
  .arch-grid{grid-template-columns:1fr 1fr !important;}

  /* Desktop meta chips */
  .desktop-meta{gap:6px;}
  .desktop-meta-chip{font-size:.5rem;padding:4px 8px;}
  .desktop-meta-chip span{font-size:.65rem;}

  /* Settings modal full width */
  .settings-win{width:98%;max-width:98%;}
  .stab-content{font-size:.6rem;}

  /* Chars: single column on mobile */
  .chars-cards{grid-template-columns:1fr;}
}

/* ── FACTION CARD NPC CONTACTS ── */
.fc-npcs{margin-top:8px;border-top:1px solid rgba(0,255,65,.12);padding-top:8px;}
.fc-npc-hdr{font-size:.5rem;color:var(--gd);letter-spacing:2px;text-transform:uppercase;margin-bottom:5px;}
.fc-npc{display:flex;justify-content:space-between;align-items:baseline;padding:2px 0;}
.fc-npc-name{font-size:.6rem;color:var(--g);}
.fc-npc-role{font-size:.53rem;color:var(--gd);font-style:italic;}
.fc-npc-unknown .fc-npc-name,.fc-npc-unknown .fc-npc-role{color:var(--wgdd);opacity:.45;}

/* ── TASKS / OBJECTIVES TAB ── */
.tasks-header{background:#000;border:1px solid var(--gd);padding:10px 14px;margin-bottom:10px;}
.tasks-title{font-size:.72rem;color:var(--a);letter-spacing:2px;margin-bottom:5px;}
.tasks-sub{font-size:.56rem;color:var(--gd);line-height:1.7;}
.task-card{background:#000;border:1px solid var(--gd);padding:10px 12px;margin-bottom:6px;transition:border-color .2s;}
.task-card.task-done{border-color:rgba(0,255,65,.35);opacity:.75;}
.task-hdr{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px;}
.task-name{font-size:.68rem;color:var(--a);letter-spacing:1px;}
.task-status{font-size:.52rem;letter-spacing:1px;text-transform:uppercase;}
.task-obj{font-size:.57rem;color:var(--gd);line-height:1.6;margin-bottom:6px;}
.task-rel-track{height:4px;background:#111;border:1px solid rgba(0,255,65,.15);overflow:hidden;}
.task-rel-fill{height:100%;transition:width .4s;}

/* ── TURN DELTA BAR ── */
#turn-delta-bar{font-family:'Share Tech Mono',monospace;font-size:.55rem;color:var(--a);padding:5px 10px;background:rgba(0,0,0,.6);border:1px solid rgba(255,176,0,.2);border-top:none;letter-spacing:.5px;line-height:1.6;animation:fadeIn .3s ease;}
@keyframes fadeIn{from{opacity:0;transform:translateY(-4px);}to{opacity:1;transform:translateY(0);}}

/* ── WAR ROOM / OBJECTIVES ── */
.war-room-banner{background:#000;border:1px solid var(--gd);padding:12px 14px;margin-bottom:10px;}
.war-room-title{font-size:.68rem;color:var(--a);letter-spacing:2px;margin-bottom:10px;}
.war-room-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:6px;margin-bottom:8px;}
.war-stat{text-align:center;padding:6px 4px;background:#060606;border:1px solid rgba(0,255,65,.1);}
.war-stat-val{font-size:.85rem;color:var(--g);font-family:'VT323',monospace;}
.war-stat-lbl{font-size:.42rem;color:var(--gd);letter-spacing:1px;margin-top:2px;}
.war-room-prog-wrap{height:4px;background:#111;border:1px solid rgba(0,255,65,.15);overflow:hidden;}
.war-room-prog-fill{height:100%;background:var(--g);transition:width .6s;}
.wr-section-hdr{font-size:.55rem;color:var(--gd);letter-spacing:2px;padding:5px 0 3px;border-bottom:1px solid rgba(0,255,65,.15);margin:10px 0 6px;}
.wr-faction-card{background:#000;border:1px solid rgba(0,255,65,.2);padding:10px 12px;margin-bottom:6px;transition:border-color .3s;}
.wr-faction-card.wr-resolved{opacity:.6;border-style:dashed;}
.wr-fc-top{display:flex;align-items:center;justify-content:space-between;margin-bottom:4px;}
.wr-fc-name{font-size:.65rem;color:var(--ww);letter-spacing:.5px;}
.wr-fc-badge{font-size:.48rem;padding:2px 7px;border:1px solid;letter-spacing:1px;}
.wr-fc-rel-bar{height:3px;background:#111;overflow:hidden;margin-bottom:7px;}
.wr-fc-rel-fill{height:100%;transition:width .5s;}
.wr-fc-details{display:flex;flex-direction:column;gap:3px;margin-bottom:6px;}
.wr-fc-detail{font-size:.52rem;color:var(--wgdd);}
.wr-detail-lbl{color:var(--gd);letter-spacing:1px;margin-right:6px;font-size:.47rem;}
.wr-fc-obj{font-size:.5rem;color:var(--a);border-top:1px solid rgba(255,176,0,.15);padding-top:5px;}
.wr-troop-card{background:#000;border:1px solid rgba(0,255,65,.2);padding:10px 12px;margin-bottom:6px;}
.wr-troop-row{display:flex;justify-content:space-between;align-items:center;padding:3px 0;border-bottom:1px solid rgba(0,255,65,.06);}
.wr-troop-row:last-child{border-bottom:none;}
.wr-troop-lbl{font-size:.52rem;color:var(--wgdd);}
.wr-troop-val{font-size:.65rem;color:var(--a);font-family:'VT323',monospace;}
.wr-troop-total .wr-troop-lbl{color:var(--g);}
.wr-terr-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:5px;margin-bottom:6px;}
.wr-terr-tile{background:#000;border:1px solid;padding:8px 6px;text-align:center;}
.wr-terr-name{font-size:.6rem;font-family:'VT323',monospace;margin-bottom:2px;}
.wr-terr-ctrl{font-size:.42rem;letter-spacing:1px;margin-bottom:3px;}
.wr-terr-info{font-size:.44rem;color:var(--gd);}

/* ── FACTION RELATION FLASH ── */
@keyframes relFlash{0%{background:#000;box-shadow:none;}30%{background:rgba(0,255,65,.08);box-shadow:0 0 12px rgba(0,255,65,.3);}100%{background:#000;box-shadow:none;}}
.faction-card.rel-flash{animation:relFlash 2s ease forwards;}

/* ── CHARACTERS / PEOPLE TAB ── */
.chars-section{margin-bottom:12px;}
.chars-faction-hdr{font-size:.63rem;color:var(--a);letter-spacing:1px;padding:6px 10px;background:#000;border:1px solid var(--gd);display:flex;align-items:center;gap:8px;flex-wrap:wrap;margin-bottom:4px;}
.chars-rel-badge{font-size:.45rem;padding:2px 6px;border:1px solid;letter-spacing:1px;}
.chars-met-badge{font-size:.48rem;padding:2px 7px;letter-spacing:1px;border:1px solid;margin-left:auto;}
.chars-met{color:var(--g);border-color:var(--g);}
.chars-unmet{color:var(--wgdd);border-color:var(--wgdd);}
.chars-cards{display:grid;grid-template-columns:1fr 1fr;gap:4px;}
.char-card{background:#000;border:1px solid var(--gd);padding:9px 11px;}
.char-card.char-unknown{opacity:.42;border-style:dashed;}
.char-card.char-leader{border-color:var(--a);border-style:solid;}
.char-name{font-size:.65rem;color:var(--g);margin-bottom:2px;letter-spacing:.5px;}
.char-role{font-size:.55rem;color:var(--gd);font-style:italic;margin-bottom:3px;}
.char-faction{font-size:.5rem;letter-spacing:1px;margin-bottom:4px;text-transform:uppercase;}
.char-rel{font-size:.5rem;letter-spacing:1px;margin-top:2px;}
.char-voice{font-size:.52rem;color:var(--wgdd);line-height:1.55;border-top:1px solid rgba(255,255,255,.05);padding-top:4px;margin-top:2px;}

/* ── TINY PHONE (<375px) — tab bar scrolls horizontally ── */
@media (max-width:375px){
  .tab-bar{flex-wrap:nowrap;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;scrollbar-width:none;}
  .tab-bar::-webkit-scrollbar{display:none;}
  .tab{flex-shrink:0;font-size:.48rem;padding:5px 7px;}
  .chars-cards{grid-template-columns:1fr;}
  .wi{padding:8px;}
}

/* ── DEV PANEL ── */
.dev-fab{position:fixed;bottom:14px;left:14px;background:#0d0d0d;border:1px solid #333;color:#00ff41;font-family:'Share Tech Mono',monospace;font-size:.55rem;padding:5px 11px;cursor:pointer;z-index:9000;letter-spacing:2px;box-shadow:0 0 10px rgba(0,255,65,.15);}
.dev-fab:hover{background:#111;box-shadow:0 0 18px rgba(0,255,65,.3);}
.dev-modal{position:fixed;inset:0;background:rgba(0,0,0,.88);z-index:9500;display:flex;align-items:center;justify-content:center;}
.dev-win{background:#0a0a0a;border:1px solid #2a2a2a;min-width:320px;max-width:680px;width:96%;max-height:82vh;display:flex;flex-direction:column;box-shadow:0 0 40px rgba(0,255,65,.08);}
.dev-tb{background:#0f0f0f;border-bottom:1px solid #1e1e1e;padding:6px 10px;font-size:.6rem;color:#00ff41;letter-spacing:1px;display:flex;justify-content:space-between;align-items:center;flex-shrink:0;}
.dev-close{background:transparent;border:1px solid #333;color:#555;font-size:.6rem;cursor:pointer;padding:2px 7px;font-family:'Share Tech Mono',monospace;}.dev-close:hover{color:#cc0000;border-color:#cc0000;}
.dev-body{padding:14px;overflow-y:auto;flex:1;}
.dev-stat-row{display:flex;justify-content:space-between;align-items:center;font-size:.6rem;color:#444;margin-bottom:12px;letter-spacing:1px;}
.dev-status{color:#00ff41;}
.dev-btns{display:flex;gap:6px;flex-wrap:wrap;margin-bottom:14px;}
.dev-btn{background:#0f0f0f;border:1px solid #2a2a2a;color:#666;font-family:'Share Tech Mono',monospace;font-size:.58rem;padding:5px 10px;cursor:pointer;letter-spacing:1px;}.dev-btn:hover{background:#141414;color:#aaa;}
.dev-btn-export{border-color:rgba(0,255,65,.4);color:#00ff41;}.dev-btn-export:hover{background:rgba(0,255,65,.06);}
.dev-btn-clear{border-color:rgba(204,0,0,.4);color:#cc0000;}.dev-btn-clear:hover{background:rgba(204,0,0,.06);}
.dev-recent-hdr{font-size:.52rem;color:#2a2a2a;letter-spacing:2px;margin-bottom:6px;text-transform:uppercase;}
.dev-table-wrap{overflow-x:auto;border:1px solid #141414;}
#dev-recent{width:100%;border-collapse:collapse;font-size:.6rem;}
#dev-recent th{background:#0f0f0f;color:#ffb000;padding:4px 7px;text-align:left;font-weight:normal;letter-spacing:1px;border-bottom:1px solid #1e1e1e;white-space:nowrap;}
#dev-recent td{padding:3px 7px;border-bottom:1px solid #111;color:#555;max-width:180px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}
.dev-type-choice{color:#00ff41!important;}.dev-type-custom{color:#00bbff!important;}.dev-type-session{color:#ffb000!important;}
.dev-type-game{color:#ff44aa!important;}.dev-type-api{color:#cc0000!important;}.dev-type-turn{color:#2a2a2a!important;}
.dev-type-faction{color:#bb44ff!important;}.dev-type-travel{color:#ffaa00!important;}

/* ── SPLASH / BOOT SCREEN ── */
#splash-screen{position:fixed;top:0;left:0;width:100%;height:100%;background:#000;z-index:9990;display:flex;align-items:center;justify-content:center;font-family:'Share Tech Mono',monospace;transition:opacity .5s ease;}
#splash-boot{width:min(440px,90vw);padding:0 20px;}
#splash-boot-lines{font-size:.65rem;color:var(--g);line-height:1.9;letter-spacing:.5px;min-height:115px;}
.splash-boot-line{display:block;animation:sbFade .12s ease;}
@keyframes sbFade{from{opacity:0}to{opacity:1}}
#splash-bar-wrap{margin-top:14px;height:4px;background:#111;border:1px solid #252525;}
#splash-bar-fill{height:100%;width:0;background:var(--g);transition:width 1.8s linear;}
#splash-dialog{width:min(490px,92vw);}
.splash-win{background:var(--wg);border-top:2px solid var(--ww);border-left:2px solid var(--ww);border-right:2px solid var(--wgd);border-bottom:2px solid var(--wgd);box-shadow:4px 4px 0 rgba(0,0,0,.85);animation:splashPop .28s cubic-bezier(.34,1.46,.64,1);}
@keyframes splashPop{from{transform:scale(.88) translateY(-14px);opacity:0}to{transform:scale(1) translateY(0);opacity:1}}
.splash-tb{background:linear-gradient(to right,var(--wb),#1a6fb5);padding:3px 5px;display:flex;align-items:center;justify-content:space-between;}
.splash-body{padding:16px 14px 10px;display:flex;gap:14px;align-items:flex-start;background:var(--bg);}
.splash-warn-icon{font-size:2.4rem;color:var(--a);flex-shrink:0;line-height:1;margin-top:4px;animation:warnPulse 1.8s ease-in-out infinite;}
@keyframes warnPulse{0%,100%{opacity:1;text-shadow:0 0 8px var(--a)}50%{opacity:.6;text-shadow:none}}
.splash-title-big{font-family:'VT323',monospace;font-size:2.2rem;color:var(--g);letter-spacing:3px;line-height:1;margin-bottom:10px;text-shadow:0 0 12px var(--g);}
.splash-disc{font-size:.57rem;color:#666;line-height:1.75;letter-spacing:.3px;}
.splash-footer{background:var(--bg);border-top:1px solid #1a1a1a;padding:8px 14px;display:flex;justify-content:flex-end;}
.splash-ok-btn{background:var(--wg);border-top:2px solid var(--ww);border-left:2px solid var(--ww);border-right:2px solid var(--wgd);border-bottom:2px solid var(--wgd);padding:5px 16px;font-family:'Share Tech Mono',monospace;font-size:.65rem;letter-spacing:1px;color:var(--wk);cursor:pointer;}
.splash-ok-btn:hover{background:#d4d0c8;}
.splash-ok-btn:active{border-top:2px solid var(--wgd);border-left:2px solid var(--wgd);border-right:2px solid var(--ww);border-bottom:2px solid var(--ww);}
